`timescale 1ns / 1ps

module top_level_tb;

    // Inputs
   wire				CLOCK_50,					// DE2-115's 50MHz clock signal
	wire 			reset,
	wire [17:0] 	SW,
   wire			GPIO[3],                // TX - from robot

    // Outputs
	wire			GPIO[5]						// RX - to robot
	
    // Instantiate the Unit Under Test (UUT)
    top_level uut (
		.CLOCK_50(CLOCK_50),					// DE2-115's 50MHz clock signal
		.reset(reset),
		.SW([17:0]SW),
		.GPIO[3](GPIO[3]),                // TX - from robot
		.GPIO[5](GPIO[5])						// RX - to robot
    );

    // Clock generation: Generate a 50MHz clock signal
    initial begin
        CLOCK_50 = 0;
        forever #10 CLOCK_50 = ~CLOCK_50; // Clock period is 20ns (50MHz)
    end

    // Simulation of push buttons (Active Low)
    initial begin

        $dumpfile("motor.vcd");
        $dumpvars();
        
        // Initialize Inputs
		  GPIO[3] = 0;
		  reset = 0;
        SW = 18'b000000_000000_000000; // All sws off

        // Wait for global reset
        #100;

        // Simulate Reset button press
        SW = 18'b000000_000000_000001;
        #100;

        // Simulate pressing the Ensure button
        SW = 18'b000000_000000_000010;
        #100;

        // Simulate pressing the Left button
        SW = 18'b000000_000000_000100;
        #100;

        // End simulation after some time
        #1000;
        $stop;
    end


endmodule